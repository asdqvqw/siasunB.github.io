<template>
    <div>
        <div class="page-container main-view">

            <div class="table-box content-container page-content-box">

                <div class="left">

                    <el-button type="info" @click="handlecheck" >
                        æŸ¥çœ‹è®¾å¤‡
                    </el-button>
                    <el-dialog v-model="checkdevice" title="è®¾å¤‡æ€»è§ˆ" :visible="checkdevice" 
                    width="900px" @close="checkdevice = false">
                        <checkbox></checkbox>
                    </el-dialog>

                    &nbsp;

                    
                    <el-button type="info" @click="handleExpand11"  >
                        æŸ¥çœ‹
                    </el-button>
                    <el-dialog v-model="dialogVisible" title="æ•°æ®" :visible="dialogVisible"
                        @close="dialogVisible = false">
                        <pre>{{ formattedJsondata }}</pre>
                    </el-dialog>
                </div>
                <hr class="hengxian">

                <div class="left">
                    <h2>âš ï¸ ç”µå™¨æ¨¡å—ï¼š</h2>
                    é…ç½®ç”µå™¨æ¨¡å—ï¼š
                    <hr class="hengxian2">
                    <h3>âš ï¸ å¼€å…³:</h3>
                    é…ç½®æŒ‰é’®ç›¸å…³:
                    <br><br>
                    <span class="title">ğŸ”– å¯åŠ¨æŒ‰é’®:</span>

                    <el-button @click="toggleStartButton" type="text" plain :disabled="false">
                        <span v-if="!StartButton">å±•å¼€</span>
                        <span v-else>å±•å¼€</span>
                        <span :class="{ 'rotate-arrow': StartButton }">â¡ï¸</span>
                    </el-button><br>
                    <div v-if="StartButton">
                        <switchh></switchh>
                        <br>
                    </div>
                    <br>
                    <span class="title">ğŸ”– æ€¥åœå¼€å…³:</span>

                    <el-button @click="toggleEmgButton" type="text" plain :disabled="false">
                        <span v-if="!EmgButton">å±•å¼€</span>
                        <span v-else>å±•å¼€</span>
                        <span :class="{ 'rotate-arrow': EmgButton }">â¡ï¸</span>
                    </el-button><br>
                    <div v-if="EmgButton">
                        <switchhemg></switchhemg>
                        <br>
                    </div>


                    <hr class="hengxian3">

                    <h3>âš ï¸ é˜²ç¢°è®¾å¤‡:</h3>
                    é…ç½®ä¿é™©æ å’ŒPLSç›¸å…³:
                    <br><br>
                    <span class="title">ğŸ”– å¯åˆ‡åŒºPLS:</span>
                    <el-button @click="togglePLSparm" type="text" plain :disabled="false">
                        <span v-if="!PLSparm">å±•å¼€</span>
                        <span v-else>å±•å¼€</span>
                        <span :class="{ 'rotate-arrow': PLSparm }">â¡ï¸</span>
                    </el-button><br>
                    <div v-if="PLSparm">
                        <PLS></PLS>
                        <br>
                    </div>
                    <br>
                    <span class="title">ğŸ”– ç¡¬ä¿é™©æ :</span>
                    <el-button @click="toggleHunpparm" type="text" plain :disabled="false">
                        <span v-if="!Hunpparm">å±•å¼€</span>
                        <span v-else>å±•å¼€</span>
                        <span :class="{ 'rotate-arrow': Hunpparm }">â¡ï¸</span>
                    </el-button><br>
                    <div v-if="Hunpparm">
                        <hardBump></hardBump>
                        <br>
                    </div>

                    <hr class="hengxian3">

                    <h3>âš ï¸ ç»§ç”µå™¨:</h3>

                    é…ç½®ç»§ç”µå™¨ç›¸å…³:
                    <el-button @click="toggleRelay" type="text" plain :disabled="false">
                        <span v-if="!Relay">å±•å¼€</span>
                        <span v-else>å±•å¼€</span>
                        <span :class="{ 'rotate-arrow': Relay }">â¡ï¸</span>
                    </el-button><br>
                    <div v-if="Relay">
                        <relay></relay>
                        <br>
                    </div>


                    <hr class="hengxian3">

                    <h3>âš ï¸ ç”µæ± æŒ‡ç¤ºè¡¨:</h3>

                    <br><br>
                    <Better></Better>
                    <hr class="hengxian3">

                    <h3 style="display: inline-block;">âš ï¸ æ‰¬å£°å™¨:</h3>

                    <el-button @click="togglesoundparm" type="text" plain :disabled="false">
                        <span v-if="!soundparm">å±•å¼€</span>
                        <span v-else>å±•å¼€</span>
                        <span :class="{ 'rotate-arrow': soundparm }">â¡ï¸</span>
                    </el-button><br>
                    <div v-if="soundparm">
                        <sound></sound>
                        <br>
                    </div>


                    
                    <hr class="hengxian3">

                    <h3 style="display: inline-block;">âš ï¸ æ‰‹æ§è®¾å¤‡:</h3>


                    <el-button @click="toggleManparm" type="text" plain :disabled="false">
                        <span v-if="!Manparm">å±•å¼€</span>
                        <span v-else>å±•å¼€</span>
                        <span :class="{ 'rotate-arrow': Manparm }">â¡ï¸</span>
                    </el-button><br>
                    <div v-if="Manparm">
                        <Manual></Manual>
                        <br>
                    </div>


                    <!-- <hr class="hengxian3">

                    <h3>âš ï¸ å±å¹•:</h3>
                    <SCREEN></SCREEN> -->
                </div>




                <hr class="hengxian2">


                <el-button type="primary" @click="nexatstep">ä¸‹ä¸€æ­¥</el-button>
                <hr class="kongge">
                <el-button type="primary" @click="afterstep">ä¸Šä¸€æ­¥</el-button>

            </div>

        </div>

    </div>
</template>

<script setup>
import { ref ,computed} from 'vue';
import { jsondata } from '@/views/agv_ctrl/param/common/commondata.js';
import hardBump from './Bumper/Bumper.vue';
import relay from './Relay/Relay.vue';
import switchh from './StartButton/switch.vue';
import switchhemg from './EmgButton/switch.vue';
import SCREEN from './Screen/Screen.vue';
import Better from './Better/Better.vue';
import PLS from './PLS/PLS.vue';
import Manual from './Manaul/Manaul.vue';
import sound from './Sound/Sound.vue';
import checkbox from '@/views/agv_ctrl/param/check.vue';
const checkdevice = ref(false);
const handlecheck = () => {
    checkdevice.value = true;
};

const formattedJsondata = computed(() => {
    return JSON.stringify(jsondata.value, null, 2);
});


const StartButton = ref(false);
const EmgButton = ref(false);
const PLSparm = ref(false);
const Hunpparm = ref(false);
const dialogVisible = ref(false);
const Relay = ref(false);
const Manparm = ref(false);
const soundparm = ref(false);

const toggleHunpparm = () => {
    Hunpparm.value = !Hunpparm.value;
};

const togglesoundparm = () => {
    soundparm.value = !soundparm.value;
};

const toggleManparm = () => {
    Manparm.value = !Manparm.value;
};

const toggleRelay = () => {
    Relay.value = !Relay.value;
};

const togglePLSparm = () => {
    PLSparm.value = !PLSparm.value;
};

const toggleEmgButton = () => {
    EmgButton.value = !EmgButton.value;
};

const toggleStartButton = () => {
    StartButton.value = !StartButton.value;
};



const handleExpand11 = () => {
    dialogVisible.value = true;
};


const afterstep = () => {
    router.push('/main/second');
};
const nexatstep = () => {
    router.push('/main/fifth');
};
</script>


<style lang="scss" scoped>
.main-view {
    display: flex;
    flex-direction: column;
    overflow: auto;
    height: 600px;

    >.page-query-box {
        margin: 0 0 10px 0 !important;
        padding: 10px 10px 0px 10px;

        :deep(.el-form-item) {
            margin-bottom: 10px !important;
        }

        :deep(.el-form-item--default) {
            width: 100%;
            margin-right: 0;
        }
    }

    >.content-container {
        flex: 1;
        display: flex;
        flex-direction: column;
        padding: 10px 10px;
        box-sizing: border-box;
        background: #fff;

        overflow: auto !important;

        >.top-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 0px 0 10px 0;
        }

        >.table-container {
            flex: 1 1 auto;
            height: 0;
            overflow: auto;
        }
    }

    .pagination-container {
        display: flex;
        justify-content: flex-end;
        padding: 0;
        margin: 10px 0 0 0;
    }
}


.edit-data-dialog {
    .dialog-container {
        padding: 15px 15px 0 15px;
        box-sizing: border-box;
    }
}
</style>

<style scoped>
.rotate-arrow {
    transition: transform 0.3s ease-in-out;
    transform: rotate(90deg);
}


.hengxian {
    border: none;
    border-top: 2px solid #ccc;
    margin: 20px 0;
}

.hengxian3 {
    border: none;
    border-top: 2px dashed #ccc;
    margin: 20px 0;
}

.hengxian2 {
    height: 2px;
    /* çº¿æ¡é«˜åº¦ */
    background: linear-gradient(to right, #e8e7e7 50%, transparent 50%);
    /* åˆ›å»ºè‡ªå®šä¹‰çº¿æ¡ */
    background-size: 10px 5px;
    /* æ§åˆ¶çº¿æ¡çš„é—´è·å’Œå®½åº¦ */
    margin: 20px 0;
}

.kongge {
    margin-top: 2px;
}

.title {
    font-size: 16px;
    font-weight: bold;
    margin-bottom: 10px;
}
</style>