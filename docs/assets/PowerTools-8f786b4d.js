import{bN as B,aV as S,r as $,U as P,bh as D,ai as g,f as I,bH as R,b as O,by as j,G as z,bW as C,cp as F,aB as N,c0 as V,cU as Y,dB as m,bV as h,c6 as K,at as H,dY as U,_ as Z,d as q,bg as b,Q as G,o as p,c as y,F as M,aY as Q,n as W,aC as k,bc as L,e as J,m as X,u as ee}from"./index-df7e4a51.js";import"./el-tag-cac9c3fa.js";import{E as te}from"./index-d321402d.js";function ae(t){let e;const a=B("loading"),s=S(!1),l=$({...t,originalPosition:"",originalOverflow:"",visible:!1});function o(n){l.text=n}function u(){const n=l.parent;if(!n.vLoadingAddClassList){let d=n.getAttribute("loading-number");d=Number.parseInt(d)-1,d?n.setAttribute("loading-number",d.toString()):(C(n,a.bm("parent","relative")),n.removeAttribute("loading-number")),C(n,a.bm("parent","hidden"))}r(),f.unmount()}function r(){var n,d;(d=(n=i.$el)==null?void 0:n.parentNode)==null||d.removeChild(i.$el)}function v(){var n;t.beforeClose&&!t.beforeClose()||(s.value=!0,clearTimeout(e),e=window.setTimeout(c,400),l.visible=!1,(n=t.closed)==null||n.call(t))}function c(){if(!s.value)return;const n=l.parent;s.value=!1,n.vLoadingAddClassList=void 0,u()}const f=P({name:"ElLoading",setup(){return()=>{const n=l.spinner||l.svg,d=g("svg",{class:"circular",viewBox:l.svgViewBox?l.svgViewBox:"0 0 50 50",...n?{innerHTML:n}:{}},[g("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),E=l.text?g("p",{class:a.b("text")},[l.text]):void 0;return g(z,{name:a.b("fade"),onAfterLeave:c},{default:I(()=>[R(O("div",{style:{backgroundColor:l.background||""},class:[a.b("mask"),l.customClass,l.fullscreen?"is-fullscreen":""]},[g("div",{class:a.b("spinner")},[d,E])]),[[j,l.visible]])])})}}}),i=f.mount(document.createElement("div"));return{...D(l),setText:o,removeElLoadingChild:r,close:v,handleAfterLeave:c,vm:i,get $el(){return i.$el}}}let _;const le=function(t={}){if(!F)return;const e=se(t);if(e.fullscreen&&_)return _;const a=ae({...e,closed:()=>{var l;(l=e.closed)==null||l.call(e),e.fullscreen&&(_=void 0)}});ne(e,e.parent,a),w(e,e.parent,a),e.parent.vLoadingAddClassList=()=>w(e,e.parent,a);let s=e.parent.getAttribute("loading-number");return s?s=`${Number.parseInt(s)+1}`:s="1",e.parent.setAttribute("loading-number",s),e.parent.appendChild(a.$el),N(()=>a.visible.value=e.visible),e.fullscreen&&(_=a),a},se=t=>{var e,a,s,l;let o;return V(t.target)?o=(e=document.querySelector(t.target))!=null?e:document.body:o=t.target||document.body,{parent:o===document.body||t.body?document.body:o,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:o===document.body&&((a=t.fullscreen)!=null?a:!0),lock:(s=t.lock)!=null?s:!1,customClass:t.customClass||"",visible:(l=t.visible)!=null?l:!0,target:o}},ne=async(t,e,a)=>{const{nextZIndex:s}=Y(),l={};if(t.fullscreen)a.originalPosition.value=m(document.body,"position"),a.originalOverflow.value=m(document.body,"overflow"),l.zIndex=s();else if(t.parent===document.body){a.originalPosition.value=m(document.body,"position"),await N();for(const o of["top","left"]){const u=o==="top"?"scrollTop":"scrollLeft";l[o]=`${t.target.getBoundingClientRect()[o]+document.body[u]+document.documentElement[u]-Number.parseInt(m(document.body,`margin-${o}`),10)}px`}for(const o of["height","width"])l[o]=`${t.target.getBoundingClientRect()[o]}px`}else a.originalPosition.value=m(e,"position");for(const[o,u]of Object.entries(l))a.$el.style[o]=u},w=(t,e,a)=>{const s=B("loading");["absolute","fixed","sticky"].includes(a.originalPosition.value)?C(e,s.bm("parent","relative")):h(e,s.bm("parent","relative")),t.fullscreen&&t.lock?h(e,s.bm("parent","hidden")):C(e,s.bm("parent","hidden"))},T=Symbol("ElLoading"),A=(t,e)=>{var a,s,l,o;const u=e.instance,r=i=>K(e.value)?e.value[i]:void 0,v=i=>{const n=V(i)&&(u==null?void 0:u[i])||i;return n&&S(n)},c=i=>v(r(i)||t.getAttribute(`element-loading-${U(i)}`)),x=(a=r("fullscreen"))!=null?a:e.modifiers.fullscreen,f={text:c("text"),svg:c("svg"),svgViewBox:c("svgViewBox"),spinner:c("spinner"),background:c("background"),customClass:c("customClass"),fullscreen:x,target:(s=r("target"))!=null?s:x?void 0:t,body:(l=r("body"))!=null?l:e.modifiers.body,lock:(o=r("lock"))!=null?o:e.modifiers.lock};t[T]={options:f,instance:le(f)}},oe=(t,e)=>{for(const a of Object.keys(e))H(e[a])&&(e[a].value=t[a])},fe={mounted(t,e){e.value&&A(t,e)},updated(t,e){const a=t[T];e.oldValue!==e.value&&(e.value&&!e.oldValue?A(t,e):e.value&&e.oldValue?K(e.value)&&oe(e.value,a.options):a==null||a.instance.close())},unmounted(t){var e;(e=t[T])==null||e.instance.close()}};const re=q({name:"DictTags",props:{options:{type:Array,default:[]},value:{type:[Number,String,Array,Boolean],default:""},valueKey:{type:String,default:"value"},labelKey:{type:String,default:"label"}},setup(t){const e=$({options:b(t,"options"),value:b(t,"value"),valueKey:b(t,"valueKey"),labelKey:b(t,"labelKey")}),a=G(()=>{if(Array.isArray(e.value))return e.options.filter(s=>e.value.includes(s[e.valueKey]));{const s=e.options.find(l=>l[e.valueKey]==e.value);return s?[s]:[{[e.labelKey]:e.value,elTagType:""}]}});return{dataContainer:e,values:a}}}),ie={class:"dict-tags"};function ue(t,e,a,s,l,o){const u=te;return p(),y("div",ie,[(p(!0),y(M,null,Q(t.values,(r,v)=>(p(),y("div",{key:v,style:W({marginRight:t.values.length>0?"5px":""}),class:"item"},[r.elTagType=="default"||!r.elTagType?(p(),y("span",{key:0,class:k(r.elTagType)},L(r[t.dataContainer.labelKey]),3)):(p(),J(u,{key:1,"disable-transitions":!0,type:r.elTagType==="primary"?"":r.elTagType,class:k(r.elTagType)},{default:I(()=>[X(L(r[t.dataContainer.labelKey]),1)]),_:2},1032,["type","class"]))],4))),128))])}const ge=Z(re,[["render",ue],["__scopeId","data-v-29d20761"]]);function me(t){let e=ee(),a=e.userInfo||{};return e.permissionList,!!a.token}export{ge as _,me as h,fe as v};
