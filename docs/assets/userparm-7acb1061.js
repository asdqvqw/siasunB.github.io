import{_ as O,aV as E,o as y,c as b,b as e,f as t,m as d,bl as c,a as o,cj as q,l as D,E as B,p as T,q as L,Q as z,g as j,bc as H,aC as N}from"./index-df7e4a51.js";import{E as J,a as A}from"./el-table-column-77720c0d.js";import"./el-tag-cac9c3fa.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-d7ccd5c0.js";import"./el-scrollbar-1cd9d3fa.js";import{E as F}from"./el-dialog-c0f3d22c.js";import{p as $,j as w,O as Q}from"./commondata-b55dc380.js";/* empty css                */import{E as G,a as K}from"./el-form-item-8c758b19.js";import{E as W}from"./el-switch-fe0916cf.js";import{_ as X}from"./check-605603cf.js";import"./index-344724fa.js";import"./_Uint8Array-f4037249.js";import"./_initCloneObject-b58f4364.js";import"./index-565d57e3.js";import"./debounce-8185d5a4.js";const Y=p=>(T("data-v-005379d3"),p=p(),L(),p),Z=Y(()=>o("br",null,null,-1)),ee={slot:"footer",class:"dialog-footer"},le="添加数据",te={__name:"function",setup(p){let n=E({name:"",des:"",key:"",value:!1});const v=E(!1),g=(m,a)=>{const u=w.value.function.find(f=>f.key===a.key);u&&(u.value=a.value)},k=()=>{v.value=!0},V=()=>{if(n.value.name&&n.value.des&&n.value.key){const m={...n.value};w.value.function.push(m),$.value.push(m),v.value=!1}else q.error("请填写完整数据")},I=m=>{const a=w.value.function.findIndex(f=>f.key===m.key);a!==-1&&w.value.function.splice(a,1);const u=$.value.indexOf(m);u!==-1&&$.value.splice(u,1)};return(m,a)=>{const u=J,f=W,x=D,R=A,U=B,h=G,s=K,_=F;return y(),b("div",null,[e(R,{data:c($),style:{width:"100%"}},{default:t(()=>[e(u,{prop:"name",label:"名称"}),e(u,{prop:"des",label:"说明"}),e(u,{prop:"key",label:"英文名"}),e(u,{prop:"value",label:"是否启用"},{default:t(l=>[e(f,{modelValue:l.row.value,"onUpdate:modelValue":C=>l.row.value=C,"active-value":!0,"inactive-value":!1,onChange:C=>g(l.$index,l.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(u,{label:"操作"},{default:t(l=>[e(x,{type:"danger",onClick:C=>I(l.row)},{default:t(()=>[d("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Z,e(x,{type:"primary",onClick:k},{default:t(()=>[d("添加新数据")]),_:1}),e(_,{title:le,modelValue:v.value,"onUpdate:modelValue":a[5]||(a[5]=l=>v.value=l),visible:v.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[e(s,{ref:"form",model:c(n),"label-width":"80px"},{default:t(()=>[e(h,{label:"名称"},{default:t(()=>[e(U,{modelValue:c(n).name,"onUpdate:modelValue":a[0]||(a[0]=l=>c(n).name=l),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1}),e(h,{label:"说明"},{default:t(()=>[e(U,{modelValue:c(n).des,"onUpdate:modelValue":a[1]||(a[1]=l=>c(n).des=l),placeholder:"请输入说明"},null,8,["modelValue"])]),_:1}),e(h,{label:"英文名"},{default:t(()=>[e(U,{modelValue:c(n).key,"onUpdate:modelValue":a[2]||(a[2]=l=>c(n).key=l),placeholder:"key值"},null,8,["modelValue"])]),_:1}),e(h,{label:"是否启用"},{default:t(()=>[e(f,{modelValue:c(n).value,"onUpdate:modelValue":a[3]||(a[3]=l=>c(n).value=l),"active-value":!0,"inactive-value":!1},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),o("div",ee,[e(x,{onClick:a[4]||(a[4]=l=>v.value=!1)},{default:t(()=>[d("取 消")]),_:1}),e(x,{type:"primary",onClick:V},{default:t(()=>[d("确 定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},oe=O(te,[["__scopeId","data-v-005379d3"]]);const i=p=>(T("data-v-5513ffe4"),p=p(),L(),p),ae={class:"page-container main-view"},ne={class:"table-box content-container page-content-box"},se={class:"left"},ue=i(()=>o("hr",{class:"hengxian"},null,-1)),de={class:"left"},ie=i(()=>o("h2",null,"⚠️ 用户配置：",-1)),_e=i(()=>o("hr",{class:"hengxian2"},null,-1)),ce=i(()=>o("h3",null,"⚠️ 功能定制:",-1)),re={key:0},pe={key:1},me=i(()=>o("br",null,null,-1)),ve={key:0},fe=i(()=>o("hr",{class:"hengxian3"},null,-1)),he=i(()=>o("h3",null,"⚠️ 其他:",-1)),ye={key:0},be={key:1},ge=i(()=>o("br",null,null,-1)),ke={key:1},Ve=i(()=>o("hr",{class:"hengxian2"},null,-1)),we=i(()=>o("hr",{class:"kongge"},null,-1)),xe=i(()=>o("hr",{class:"kongge"},null,-1)),Ce=i(()=>o("hr",{class:"kongge"},null,-1)),Ee=i(()=>o("hr",{class:"kongge"},null,-1)),Ue={__name:"userparm",setup(p){const n=E(!1),v=()=>{n.value=!0},g=E(!1),k=E(!1),V=E(!1),I=(h,s)=>{w.value.other[s.key]=parseInt(s.value)},m=z(()=>JSON.stringify(w.value,null,2)),a=()=>{g.value=!0},u=()=>{V.value=!V.value},f=()=>{k.value=!k.value},x=()=>{router.push("/main/third")},R=()=>{router.push("/main/param/index")},U=()=>{const h=JSON.stringify(w.value),s=new Blob([h],{type:"application/json"}),_=window.URL.createObjectURL(s),l=document.createElement("a");l.href=_,l.download="SystemParm.json",document.body.appendChild(l),l.click(),window.URL.revokeObjectURL(_),document.body.removeChild(l)};return(h,s)=>{const _=D,l=F,C=J,M=B,P=A;return y(),b("div",null,[o("div",ae,[o("div",ne,[o("div",se,[e(_,{type:"info",onClick:v},{default:t(()=>[d(" 查看设备 ")]),_:1}),e(l,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=r=>n.value=r),title:"设备总览",visible:n.value,width:"900px",onClose:s[1]||(s[1]=r=>n.value=!1)},{default:t(()=>[e(X)]),_:1},8,["modelValue","visible"]),d("   "),e(_,{type:"info",onClick:a},{default:t(()=>[d(" 查看 ")]),_:1}),e(l,{modelValue:g.value,"onUpdate:modelValue":s[2]||(s[2]=r=>g.value=r),title:"数据",visible:g.value,onClose:s[3]||(s[3]=r=>g.value=!1)},{default:t(()=>[o("pre",null,H(m.value),1)]),_:1},8,["modelValue","visible"])]),ue,o("div",de,[ie,d(" 配置用户参数，功能等： "),_e,ce,d(" 配置车体程序功能开关: "),e(_,{onClick:f,type:"text",plain:"",disabled:!1},{default:t(()=>[k.value?(y(),b("span",pe,"展开")):(y(),b("span",re,"展开")),o("span",{class:N({"rotate-arrow":k.value})},"➡️",2)]),_:1}),me,k.value?(y(),b("div",ve,[e(oe)])):j("",!0),fe,he,d(" 控制周期与线程超时保护: "),e(_,{onClick:u,type:"text",plain:"",disabled:!1},{default:t(()=>[V.value?(y(),b("span",be,"展开")):(y(),b("span",ye,"展开")),o("span",{class:N({"rotate-arrow":V.value})},"➡️",2)]),_:1}),ge,V.value?(y(),b("div",ke,[e(P,{data:c(Q),style:{width:"100%"}},{default:t(()=>[e(C,{prop:"name",label:" "}),e(C,{prop:"value",label:" "},{default:t(r=>[e(M,{modelValue:r.row.value,"onUpdate:modelValue":S=>r.row.value=S,placeholder:"请选择",style:{width:"100%"},onChange:S=>I(r.$index,r.row),type:"number"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])):j("",!0)]),Ve,e(_,{type:"success",onClick:U},{default:t(()=>[d("导出到本地")]),_:1}),we,xe,Ce,e(_,{type:"primary",onClick:R},{default:t(()=>[d("返回")]),_:1}),Ee,e(_,{type:"primary",onClick:x},{default:t(()=>[d("上一步")]),_:1})])])])}}},ze=O(Ue,[["__scopeId","data-v-5513ffe4"]]);export{ze as default};
