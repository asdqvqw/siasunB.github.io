import{bB as ce,o as C,c as $,b as l,f as t,m as r,bl as V,a as o,E as Q,bc as G,aV as p,F as ne,aY as ie,g as B,_ as ae,bH as D,by as J,l as he,p as te,q as ue,cj as Ue,at as be,Q as Se,aC as xe}from"./index-df7e4a51.js";import{E as we}from"./el-dialog-c0f3d22c.js";import{M as de,a as ve,j as M,A as Ne,b as Me,f as j,t as a,d as W,c as re,e as _e,s as ke}from"./commondata-b55dc380.js";import{E as ge,a as Ve}from"./el-table-column-77720c0d.js";import"./el-tag-cac9c3fa.js";import"./el-tooltip-4ed993c7.js";import"./el-popper-d7ccd5c0.js";import"./el-scrollbar-1cd9d3fa.js";/* empty css                 */import{E as Z,a as ee}from"./el-select-546e2bfa.js";import{E as Ce}from"./index-9767b0f4.js";/* empty css                */import{E as ye,a as Ie}from"./el-form-item-8c758b19.js";import{E as fe}from"./index-565d57e3.js";import{_ as Ae}from"./check-605603cf.js";import"./index-344724fa.js";import"./_Uint8Array-f4037249.js";import"./_initCloneObject-b58f4364.js";import"./debounce-8185d5a4.js";import"./index-d321402d.js";import"./strings-76a06904.js";const Te=o("br",null,null,-1),Ee={__name:"manualparm",setup(u){const y=c=>{de.value.forEach(U=>{U!==c&&(U.value=!1)})},d=c=>{ve.value.forEach(U=>{U!==c&&(U.value=!1)})};return ce(de.value,()=>{console.log("111"),M.value.OperatingParam.manualparm.setSpeed=de.value.map(c=>[parseFloat(c.adAutoSpe),c.value===!0?1:0])}),ce(ve.value,()=>{console.log("222"),M.value.OperatingParam.manualparm.setRadius=ve.value.map(c=>[parseFloat(c.manRadNum),c.value===!0?1:0])}),(c,U)=>{const s=ge,I=Z,S=ee,_=Ce,w=Ve,h=Q;return C(),$("div",null,[l(w,{data:V(de),style:{width:"100%"}},{default:t(()=>[l(s,{prop:"manSpeLev",label:"速度级别"}),l(s,{prop:"adAutoSpe",label:"对应的自动速度级别"},{default:t(m=>[l(S,{modelValue:m.row.adAutoSpe,"onUpdate:modelValue":e=>m.row.adAutoSpe=e,placeholder:"请选择"},{default:t(()=>[l(I,{label:"0",value:0}),l(I,{label:"1",value:1}),l(I,{label:"2",value:2}),l(I,{label:"3",value:3}),l(I,{label:"4",value:4}),l(I,{label:"5",value:5}),l(I,{label:"6",value:6}),l(I,{label:"7",value:7}),l(I,{label:"8",value:8}),l(I,{label:"9",value:9})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1}),l(s,{prop:"value",label:"是否省缺"},{default:t(m=>[l(_,{modelValue:m.row.value,"onUpdate:modelValue":e=>m.row.value=e,label:!0,onChange:e=>y(m.row)},{default:t(()=>[r(" 是 ")]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"]),Te,l(w,{data:V(ve),style:{width:"100%"}},{default:t(()=>[l(s,{prop:"manRadLev",label:"转弯半径级别"}),l(s,{prop:"manRadNum",label:"半径值(m)"},{default:t(m=>[l(h,{modelValue:m.row.manRadNum,"onUpdate:modelValue":e=>m.row.manRadNum=e,placeholder:"请输入半径",type:"number"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),l(s,{prop:"value",label:"是否省缺"},{default:t(m=>[l(_,{modelValue:m.row.value,"onUpdate:modelValue":e=>m.row.value=e,label:!0,onChange:e=>d(m.row)},{default:t(()=>[r(" 是 ")]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])}}},Oe={__name:"autoparm",setup(u){const y=(c,U)=>{M.value.OperatingParam.autoparam[U.key]=parseFloat(U.value)},d=c=>{M.value.OperatingParam.autoparam.SpeedLev=parseFloat(c.value)};return(c,U)=>{const s=ge,I=Q,S=Ve,_=Z,w=ee;return C(),$("div",null,[l(S,{data:V(Ne),style:{width:"100%"}},{default:t(()=>[l(s,{prop:"name",label:" "},{default:t(h=>[o("span",null,"🔶"+G(h.row.name),1)]),_:1}),l(s,{prop:"value",label:" "},{default:t(h=>[l(I,{modelValue:h.row.value,"onUpdate:modelValue":m=>h.row.value=m,placeholder:"请选择",style:{width:"100%"},onChange:m=>y(h.$index,h.row),type:"number"},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"]),l(S,{data:V(Me),style:{width:"100%"}},{default:t(()=>[l(s,{prop:"name",label:""},{default:t(h=>[o("span",null,"🔶"+G(h.row.name),1)]),_:1}),l(s,{prop:"value",label:""},{default:t(h=>[l(w,{modelValue:h.row.value,"onUpdate:modelValue":m=>h.row.value=m,placeholder:"请选择",onChange:m=>d(h.row)},{default:t(()=>[l(_,{label:"0级速度",value:"0"}),l(_,{label:"1级速度",value:"1"}),l(_,{label:"2级速度",value:"2"}),l(_,{label:"3级速度",value:"3"}),l(_,{label:"4级速度",value:"4"}),l(_,{label:"5级速度",value:"5"}),l(_,{label:"6级速度",value:"6"}),l(_,{label:"7级速度",value:"7"}),l(_,{label:"8级速度",value:"8"}),l(_,{label:"9级速度",value:"9"})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:1})]),_:1},8,["data"])])}}},ze=o("br",null,null,-1),Re={key:0},Pe={key:0},Ke=o("br",null,null,-1),Be=o("br",null,null,-1),Fe=o("br",null,null,-1),Le={key:1},De=o("br",null,null,-1),Je=o("br",null,null,-1),qe=o("br",null,null,-1),Ye={key:2},je=o("br",null,null,-1),Ge=o("br",null,null,-1),Xe={key:3},He=o("br",null,null,-1),Qe=o("br",null,null,-1),We=o("br",null,null,-1),Ze={key:4},el=o("br",null,null,-1),me={__name:"IO",props:{wheel:{type:Array,required:!0}},emits:["myEvent"],setup(u,{emit:y}){const d=u,c=p(!1),U=p("子组件数据"),s=p("1"),I=p(!0),S=p(!1),_=p(!1),w=p(!1),h=p(!1),m=p("1"),e=p("1"),x=p("1"),v=p("1"),T=p(""),f=p("");y("myEvent",U.value);const L=()=>{if(d.wheel!==void 0)if(console.log("22222",d.wheel),d.wheel[0]===1||d.wheel[0]===2||d.wheel[0]===4)c.value=!0,s.value=d.wheel[0].toString(),P(),m.value=d.wheel[1].toString(),e.value=d.wheel[2].toString(),x.value=d.wheel[3].toString(),v.value=d.wheel[4].toString();else if(d.wheel[0]===3)c.value=!0,s.value=d.wheel[0].toString(),P(),m.value=d.wheel[1].toString(),e.value=d.wheel[2].toString(),x.value=d.wheel[3].toString();else if(d.wheel[0]===5){c.value=!0,s.value=d.wheel[0].toString(),P();const E=parseInt(d.wheel[1],10);f.value=isNaN(E)?"":E.toString(16),m.value=f.value.toString(),e.value=d.wheel[2].toString()}else d.wheel[0]===0&&(c.value=!1,P());else{if(d.wheel.value!==void 0)if(console.log("33333333",d.wheel.value),d.wheel.value[0]===1||d.wheel.value[0]===2||d.wheel.value[0]===4)c.value=!0,s.value=d.wheel.value[0].toString(),P(),m.value=d.wheel.value[1].toString(),e.value=d.wheel.value[2].toString(),x.value=d.wheel.value[3].toString(),v.value=d.wheel.value[4].toString();else if(d.wheel.value[0]===3)c.value=!0,s.value=d.wheel.value[0].toString(),P(),m.value=d.wheel.value[1].toString(),e.value=d.wheel.value[2].toString(),x.value=d.wheel.value[3].toString();else if(d.wheel.value[0]===5){c.value=!0,s.value=d.wheel.value[0].toString(),P();const E=parseInt(d.wheel.value[1],10);f.value=isNaN(E)?"":E.toString(16),m.value=f.value.toString(),e.value=d.wheel.value[2].toString()}else d.wheel.value[0]===0&&(c.value=!1,P());c.value=!1}},q=()=>{console.log("3333"),c.value||(d.wheel.value=[0,2,2,2,0]),n()},n=()=>{if(console.log("1111111"),!c.value)d.wheel.value=[0,2,2,2,0];else if(s.value==="1"||s.value==="2"||s.value==="4")d.wheel.value=[parseInt(s.value),parseInt(m.value),parseInt(e.value),parseInt(x.value),parseInt(v.value)];else if(s.value==="3")d.wheel.value=[parseInt(s.value),parseInt(m.value),parseInt(e.value),parseInt(x.value)];else if(s.value==="5"){const E=parseInt(m.value,16);T.value=isNaN(E)?"":E.toString(),d.wheel.value=[parseInt(s.value),parseInt(T.value),parseInt(e.value)]}},k=[{label:"CAN-POS",value:"1"},{label:"CAN-OPEN",value:"2"},{label:"本地IO",value:"3"},{label:"CAN-IO",value:"4"},{label:"GPIO",value:"5"}],A=[{label:"CAN1",value:"1"},{label:"CAN2",value:"2"},{label:"CAN3",value:"3"}],P=()=>{switch(s.value){case"1":I.value=!0,S.value=!1,_.value=!1,w.value=!1,h.value=!1,n();return;case"2":I.value=!1,S.value=!0,_.value=!1,w.value=!1,h.value=!1,n();return;case"3":I.value=!1,S.value=!1,_.value=!0,w.value=!1,h.value=!1,n();return;case"4":I.value=!1,S.value=!1,_.value=!1,w.value=!0,h.value=!1,n();return;case"5":I.value=!1,S.value=!1,_.value=!1,w.value=!1,h.value=!0,n();return}};L();let oe=0;return ce(j,()=>{const E=Date.now();E-oe>=700&&(L(),oe=E)}),(E,b)=>{const se=fe,N=Ce,g=Z,K=ee,X=Q;return C(),$("div",null,[l(se,{modelValue:c.value,"onUpdate:modelValue":b[0]||(b[0]=i=>c.value=i),onChange:q},{default:t(()=>[r("启用:")]),_:1},8,["modelValue"]),ze,c.value?(C(),$("div",Re,[(C(),$(ne,null,ie(k,(i,Y)=>l(N,{key:Y,modelValue:s.value,"onUpdate:modelValue":b[1]||(b[1]=H=>s.value=H),label:i.value,onChange:P},{default:t(()=>[o("pre",null,G(i.label),1)]),_:2},1032,["modelValue","label"])),64)),I.value?(C(),$("div",Pe,[r(" 远程模块连接到: "),(C(),$(ne,null,ie(A,(i,Y)=>l(N,{key:Y,modelValue:m.value,"onUpdate:modelValue":b[2]||(b[2]=H=>m.value=H),label:i.value,onChange:P},{default:t(()=>[o("pre",null,G(i.label),1)]),_:2},1032,["modelValue","label"])),64)),Ke,r(" CAN-POS模块编号: "),l(K,{modelValue:e.value,"onUpdate:modelValue":b[3]||(b[3]=i=>e.value=i),onChange:n},{default:t(()=>[l(g,{label:"0",value:"0"}),l(g,{label:"1",value:"1"}),l(g,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Be,r(" 模块内输出点编号: "),l(K,{modelValue:x.value,"onUpdate:modelValue":b[4]||(b[4]=i=>x.value=i),onChange:n},{default:t(()=>[l(g,{label:"0",value:"0"}),l(g,{label:"1",value:"1"}),l(g,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Fe,r(" 信号极性: "),l(K,{modelValue:v.value,"onUpdate:modelValue":b[5]||(b[5]=i=>v.value=i),onChange:n},{default:t(()=>[l(g,{label:"输出高电平有效",value:"0"}),l(g,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):B("",!0),S.value?(C(),$("div",Le,[r(" 远程模块连接到: "),(C(),$(ne,null,ie(A,(i,Y)=>l(N,{key:Y,modelValue:m.value,"onUpdate:modelValue":b[6]||(b[6]=H=>m.value=H),label:i.value,onChange:P},{default:t(()=>[o("pre",null,G(i.label),1)]),_:2},1032,["modelValue","label"])),64)),De,r(" CAN-OPEN模块编号: "),l(K,{modelValue:e.value,"onUpdate:modelValue":b[7]||(b[7]=i=>e.value=i),onChange:n},{default:t(()=>[l(g,{label:"0",value:"0"}),l(g,{label:"1",value:"1"}),l(g,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Je,r(" 模块内输出点编号: "),l(K,{modelValue:x.value,"onUpdate:modelValue":b[8]||(b[8]=i=>x.value=i),onChange:n},{default:t(()=>[l(g,{label:"0",value:"0"}),l(g,{label:"1",value:"1"}),l(g,{label:"2",value:"2"})]),_:1},8,["modelValue"]),qe,r(" 信号极性: "),l(K,{modelValue:v.value,"onUpdate:modelValue":b[9]||(b[9]=i=>v.value=i),onChange:n},{default:t(()=>[l(g,{label:"输出高电平有效",value:"0"}),l(g,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):B("",!0),_.value?(C(),$("div",Ye,[r(" 本地IO地址: "),l(X,{modelValue:m.value,"onUpdate:modelValue":b[10]||(b[10]=i=>m.value=i),type:"number",onChange:n},null,8,["modelValue"]),je,r(" 输出点对应位: "),l(K,{modelValue:e.value,"onUpdate:modelValue":b[11]||(b[11]=i=>e.value=i),onChange:n},{default:t(()=>[l(g,{label:"BIT1",value:"0"}),l(g,{label:"BIT2",value:"1"}),l(g,{label:"BIT3",value:"2"}),l(g,{label:"BIT4",value:"3"}),l(g,{label:"BIT5",value:"4"}),l(g,{label:"BIT6",value:"5"}),l(g,{label:"BIT7",value:"6"})]),_:1},8,["modelValue"]),Ge,r(" 信号极性: "),l(K,{modelValue:x.value,"onUpdate:modelValue":b[12]||(b[12]=i=>x.value=i),onChange:n},{default:t(()=>[l(g,{label:"输出高电平有效",value:"0"}),l(g,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):B("",!0),w.value?(C(),$("div",Xe,[r(" 远程模块连接到: "),(C(),$(ne,null,ie(A,(i,Y)=>l(N,{key:Y,modelValue:m.value,"onUpdate:modelValue":b[13]||(b[13]=H=>m.value=H),label:i.value,onChange:P},{default:t(()=>[o("pre",null,G(i.label),1)]),_:2},1032,["modelValue","label"])),64)),He,r(" CAN-IO模块编号: "),l(K,{modelValue:e.value,"onUpdate:modelValue":b[14]||(b[14]=i=>e.value=i),onChange:n},{default:t(()=>[l(g,{label:"0",value:"0"}),l(g,{label:"1",value:"1"}),l(g,{label:"2",value:"2"})]),_:1},8,["modelValue"]),Qe,r(" 模块内输出点编号: "),l(K,{modelValue:x.value,"onUpdate:modelValue":b[15]||(b[15]=i=>x.value=i),onChange:n},{default:t(()=>[l(g,{label:"0",value:"0"}),l(g,{label:"1",value:"1"}),l(g,{label:"2",value:"2"})]),_:1},8,["modelValue"]),We,r(" 信号极性: "),l(K,{modelValue:v.value,"onUpdate:modelValue":b[16]||(b[16]=i=>v.value=i),onChange:n},{default:t(()=>[l(g,{label:"输出高电平有效",value:"0"}),l(g,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):B("",!0),h.value?(C(),$("div",Ze,[r(" 输入点对应位: "),l(X,{modelValue:m.value,"onUpdate:modelValue":b[17]||(b[17]=i=>m.value=i),onChange:n},null,8,["modelValue"]),el,r(" 信号极性: "),l(K,{modelValue:e.value,"onUpdate:modelValue":b[18]||(b[18]=i=>e.value=i),onChange:n},{default:t(()=>[l(g,{label:"输出高电平有效",value:"0"}),l(g,{label:"输出低电平有效",value:"1"})]),_:1},8,["modelValue"])])):B("",!0)])):B("",!0)])}}},O=p(-1),z=p(-1);const pe=u=>(te("data-v-436756d1"),u=u(),ue(),u),ll={slot:"footer",class:"dialog-footer"},al=pe(()=>o("br",null,null,-1)),tl=pe(()=>o("h3",null,"安装方向:",-1)),ul={class:"table-container"},ol={class:"left-table"},sl=pe(()=>o("h3",null,"机械参数:",-1)),nl={class:"right-table"},il=pe(()=>o("h3",null,"伺服参数:",-1)),dl={slot:"footer",class:"dialog-footer"},vl="驱动轮",rl="过热检测",_l={__name:"wheel",props:{wheel:{type:String,required:!0}},setup(u){p(["驱动内坐标X","驱动内坐标Y","单元距离(m)","电机减速比","最大转速rpm","码盘线数","速度","加速度","最大转角"]),p(["CAN端口号","CAN-OPEN编号"]);const y=p(!1);p(!1),p(!1),p(!1),p(!1);const d=p(!1),c=()=>{d.value=!1},U=()=>{j.value=!j.value,d.value=!0},s=()=>{y.value=!0},I=()=>{y.value=!1};return(S,_)=>{const w=he,h=we,m=Z,e=ee,x=Q,v=ye,T=Ie;return C(),$("div",null,[l(w,{type:"primary",onClick:s},{default:t(()=>[r("驱动轮")]),_:1}),l(h,{title:vl,modelValue:y.value,"onUpdate:modelValue":_[16]||(_[16]=f=>y.value=f),visible:y.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[o("div",null,[l(w,{onClick:U,type:"primary"},{default:t(()=>[r("过热检测")]),_:1}),l(h,{title:rl,modelValue:d.value,"onUpdate:modelValue":_[1]||(_[1]=f=>d.value=f),visible:d.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[o("div",null,[l(me,{wheel:u.wheel.wheel_check},null,8,["wheel"])]),o("div",ll,[l(w,{onClick:_[0]||(_[0]=f=>d.value=!1)},{default:t(()=>[r("取 消")]),_:1}),l(w,{onClick:c},{default:t(()=>[r("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),r("  ")]),al,o("div",null,[tl,l(e,{modelValue:u.wheel.install_dir,"onUpdate:modelValue":_[2]||(_[2]=f=>u.wheel.install_dir=f)},{default:t(()=>[l(m,{label:"正向",value:0}),l(m,{label:"反向",value:1})]),_:1},8,["modelValue"])]),o("div",null,[o("div",ul,[o("div",ol,[sl,l(T,{ref:"form",model:u.wheel,"label-width":"120px"},{default:t(()=>[l(v,{label:"驱动内坐标X",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.wheel_x,"onUpdate:modelValue":_[3]||(_[3]=f=>u.wheel.wheel_x=f),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(v,{label:"驱动内坐标Y",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.wheel_y,"onUpdate:modelValue":_[4]||(_[4]=f=>u.wheel.wheel_y=f),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(v,{label:"车轮直径",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.axis.unit_dis,"onUpdate:modelValue":_[5]||(_[5]=f=>u.wheel.axis.unit_dis=f),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(v,{label:"电机减速比",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.axis.ratio,"onUpdate:modelValue":_[6]||(_[6]=f=>u.wheel.axis.ratio=f),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(v,{label:"码盘线束",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.axis.encoder,"onUpdate:modelValue":_[7]||(_[7]=f=>u.wheel.axis.encoder=f),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(v,{label:"最大转速",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.axis.max_rpm,"onUpdate:modelValue":_[8]||(_[8]=f=>u.wheel.axis.max_rpm=f),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(v,{label:"加速度",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.axis.acc_vel,"onUpdate:modelValue":_[9]||(_[9]=f=>u.wheel.axis.acc_vel=f),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),D(l(v,{label:"Target门限",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.axis.Target,"onUpdate:modelValue":_[10]||(_[10]=f=>u.wheel.axis.Target=f),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[J,V(O)===0||V(O)===1]])]),_:1},8,["model"])]),o("div",nl,[il,l(T,{ref:"form",model:u.wheel,"label-width":"130px"},{default:t(()=>[D(l(v,{label:"CANOPEN端口号",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.servo.canport_id,"onUpdate:modelValue":_[11]||(_[11]=f=>u.wheel.servo.canport_id=f),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[J,V(O)===2||V(O)===3||V(O)===4||V(O)===5]]),D(l(v,{label:"CANPOS端口号",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.servo.can_id,"onUpdate:modelValue":_[12]||(_[12]=f=>u.wheel.servo.can_id=f),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[J,V(O)===0||V(O)===1]]),D(l(v,{label:"CANPOS编号",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.servo.canposunit_id,"onUpdate:modelValue":_[13]||(_[13]=f=>u.wheel.servo.canposunit_id=f),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[J,V(O)===0||V(O)===1]]),D(l(v,{label:"CANOPEN编号",style:{width:"90%"}},{default:t(()=>[l(x,{modelValue:u.wheel.servo.canopenunit_id,"onUpdate:modelValue":_[14]||(_[14]=f=>u.wheel.servo.canopenunit_id=f),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[J,V(O)===2||V(O)===3||V(O)===4||V(O)===5]])]),_:1},8,["model"])])])]),o("div",dl,[l(w,{onClick:_[15]||(_[15]=f=>y.value=!1)},{default:t(()=>[r("取 消")]),_:1}),l(w,{onClick:I},{default:t(()=>[r("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},ml=ae(_l,[["__scopeId","data-v-436756d1"]]);const le=u=>(te("data-v-f7ec85d9"),u=u(),ue(),u),cl=le(()=>o("h3",null,"安装方向:",-1)),hl={class:"table-container"},wl={class:"left-table"},fl=le(()=>o("h3",null,"机械参数:",-1)),pl={class:"right-table"},bl=le(()=>o("h3",null,"伺服参数:",-1)),xl=le(()=>o("h3",null,"舵绝对码盘:",-1)),gl={key:0},Vl=le(()=>o("h3",null,"舵角校正:",-1)),yl=le(()=>o("br",null,null,-1)),Il={slot:"footer",class:"dialog-footer"},kl="驱动轮",Cl={__name:"steer",props:{steer:{type:String,required:!0}},setup(u){const y=p(!1);p(!1),p(!1),p(!1),p(!1),p(!1);const d=()=>{y.value=!0},c=()=>{y.value=!1};return(U,s)=>{const I=he,S=Z,_=ee,w=Q,h=ye,m=Ie,e=fe,x=we;return C(),$("div",null,[l(I,{type:"primary",onClick:d},{default:t(()=>[r("转舵机构")]),_:1}),l(x,{title:kl,modelValue:y.value,"onUpdate:modelValue":s[19]||(s[19]=v=>y.value=v),visible:y.value,width:"800px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[o("div",null,[cl,l(_,{modelValue:u.steer.install_dir,"onUpdate:modelValue":s[0]||(s[0]=v=>u.steer.install_dir=v)},{default:t(()=>[l(S,{label:"正向",value:0}),l(S,{label:"反向",value:1})]),_:1},8,["modelValue"])]),o("div",null,[o("div",hl,[o("div",wl,[fl,l(m,{ref:"form",model:u.steer,"label-width":"120px"},{default:t(()=>[l(h,{label:"单元距离",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.axis.unit_dis,"onUpdate:modelValue":s[1]||(s[1]=v=>u.steer.axis.unit_dis=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(h,{label:"电机减速比",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.axis.ratio,"onUpdate:modelValue":s[2]||(s[2]=v=>u.steer.axis.ratio=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(h,{label:"码盘线束",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.axis.encoder,"onUpdate:modelValue":s[3]||(s[3]=v=>u.steer.axis.encoder=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(h,{label:"最大角度",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.axis.max_poserr_limit,"onUpdate:modelValue":s[4]||(s[4]=v=>u.steer.axis.max_poserr_limit=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(h,{label:"角加速度",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.axis.acc_vel,"onUpdate:modelValue":s[5]||(s[5]=v=>u.steer.axis.acc_vel=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(h,{label:"角速度",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.axis.vel,"onUpdate:modelValue":s[6]||(s[6]=v=>u.steer.axis.vel=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),D(l(h,{label:"Target门限",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.axis.Target,"onUpdate:modelValue":s[7]||(s[7]=v=>u.steer.axis.Target=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[J,V(z)===0||V(z)===1]])]),_:1},8,["model"])]),o("div",pl,[bl,l(m,{ref:"form",model:u.steer,"label-width":"130px"},{default:t(()=>[D(l(h,{label:"CANOPEN端口号",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.servo.canport_id,"onUpdate:modelValue":s[8]||(s[8]=v=>u.steer.servo.canport_id=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[J,V(z)===2||V(z)===3||V(z)===4||V(z)===5]]),D(l(h,{label:"CANPOS端口号",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.servo.can_id,"onUpdate:modelValue":s[9]||(s[9]=v=>u.steer.servo.can_id=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[J,V(z)===0||V(z)===1]]),D(l(h,{label:"CANPOS编号",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.servo.canposunit_id,"onUpdate:modelValue":s[10]||(s[10]=v=>u.steer.servo.canposunit_id=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[J,V(z)===0||V(z)===1]]),D(l(h,{label:"CANOPEN编号",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.servo.canopenunit_id,"onUpdate:modelValue":s[11]||(s[11]=v=>u.steer.servo.canopenunit_id=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1},512),[[J,V(z)===2||V(z)===3||V(z)===4||V(z)===5]])]),_:1},8,["model"])])]),xl,l(e,{modelValue:u.steer.use_absolute_encoder,"onUpdate:modelValue":s[12]||(s[12]=v=>u.steer.use_absolute_encoder=v)},{default:t(()=>[r("启用舵绝对码盘")]),_:1},8,["modelValue"]),u.steer.use_absolute_encoder?(C(),$("div",gl,[l(m,{ref:"form",model:u.steer,"label-width":"130px"},{default:t(()=>[l(h,{label:"码盘CAN端口号",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.absolute_encoder_canport_id,"onUpdate:modelValue":s[13]||(s[13]=v=>u.steer.absolute_encoder_canport_id=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(h,{label:"码盘模块编号",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.absolute_encoder_unit_id,"onUpdate:modelValue":s[14]||(s[14]=v=>u.steer.absolute_encoder_unit_id=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(h,{label:"码盘最大值",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.absolute_encoder_max,"onUpdate:modelValue":s[15]||(s[15]=v=>u.steer.absolute_encoder_max=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1}),l(h,{label:"零位码盘值",style:{width:"90%"}},{default:t(()=>[l(w,{modelValue:u.steer.absolute_encoder_zero,"onUpdate:modelValue":s[16]||(s[16]=v=>u.steer.absolute_encoder_zero=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])])):B("",!0),Vl,yl,l(m,{ref:"form",model:u.steer,"label-width":"130px"},{default:t(()=>[l(h,{label:"零位索引偏差",style:{width:"45%"}},{default:t(()=>[l(w,{modelValue:u.steer.home_offset,"onUpdate:modelValue":s[17]||(s[17]=v=>u.steer.home_offset=v),modelModifiers:{number:!0},type:"number"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),o("div",Il,[l(I,{onClick:s[18]||(s[18]=v=>y.value=!1)},{default:t(()=>[r("取 消")]),_:1}),l(I,{onClick:c},{default:t(()=>[r("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},$l=ae(Cl,[["__scopeId","data-v-f7ec85d9"]]);const F=u=>(te("data-v-49c27f92"),u=u(),ue(),u),Ul=F(()=>o("br",null,null,-1)),Sl=F(()=>o("h3",null,"安装位置:",-1)),Nl=F(()=>o("br",null,null,-1)),Ml=F(()=>o("h3",null,"驱动类型:",-1)),Al=F(()=>o("br",null,null,-1)),Tl=F(()=>o("br",null,null,-1)),El=F(()=>o("br",null,null,-1)),Ol=F(()=>o("br",null,null,-1)),zl={style:{display:"flex"}},Rl={key:0},Pl={key:1},Kl=F(()=>o("br",null,null,-1)),Bl={slot:"footer",class:"dialog-footer"},Fl={slot:"footer",class:"dialog-footer"},Ll={slot:"footer",class:"dialog-footer"},Dl=F(()=>o("br",null,null,-1)),Jl=F(()=>o("br",null,null,-1)),ql=F(()=>o("br",null,null,-1)),Yl={slot:"footer",class:"dialog-footer"},jl="驱动单元",Gl={__name:"selectfive",setup(u){const y=p(!1),d=p(!1),c=p(!1),U=()=>{j.value=!j.value,y.value=!0},s=()=>{L(),y.value=!1},I=()=>{j.value=!j.value,d.value=!0},S=()=>{L(),d.value=!1},_=()=>{j.value=!j.value,c.value=!0},w=()=>{L(),c.value=!1},h=()=>{z.value=e.value.steer.servo_type},m=()=>{O.value=e.value.wheel.servo_type},e=p({name:"",install_x:0,install_y:0,use_wheel:!1,use_steer:!1,editingIndex:-1,drive_type:0,wheel:{install_dir:0,servo_type:0,wheel_x:0,wheel_y:0,axis:{unit_dis:0,ratio:0,encoder:0,acc_vel:0,vel:0,max_poserr_limit:0,max_rpm:0,Target:0},servo:{canport_id:0,canposunit_id:0,canopenunit_id:0,can_id:0},wheel_check:[0,2,2,2,0]},steer:{install_dir:0,servo_type:0,use_absolute_encoder:!1,absolute_encoder_canport_id:0,absolute_encoder_unit_id:0,absolute_encoder_max:16777216,absolute_encoder_zero:16777e3,home_offset:54,axis:{unit_dis:0,ratio:0,encoder:0,acc_vel:0,vel:0,max_poserr_limit:0,max_rpm:0,Target:0},servo:{canport_id:0,canposunit_id:0,canopenunit_id:0,can_id:0},unclockwise_limit_switch:[2,2,1,0,0],clockwise_limit_switch:[2,2,1,1,0],zero_limit_switch:[2,2,1,2,0]}}),x=p(!1),v=()=>{e.value.name="",e.value.install_x=0,e.value.install_y=0,e.value.use_wheel=!1,e.value.use_steer=!1,e.value.drive_type=0,e.value.steer.home_offset=54,e.value.steer.use_absolute_encoder=!1,e.value.steer.absolute_encoder_canport_id=0,e.value.steer.absolute_encoder_unit_id=0,e.value.steer.absolute_encoder_max=16777216,e.value.steer.absolute_encoder_zero=16777e3,e.value.steer.servo_type=0,e.value.steer.install_dir=0,e.value.steer.unclockwise_limit_switch=[2,2,1,0,0],e.value.steer.clockwise_limit_switch=[2,2,1,1,0],e.value.steer.zero_limit_switch=[2,2,1,2,0],e.value.steer.axis.unit_dis=6.28,e.value.steer.axis.encoder=2500,e.value.steer.axis.max_rpm=0,e.value.steer.axis.Target=0,e.value.steer.axis.max_poserr_limit=0,e.value.steer.axis.vel=1,e.value.steer.axis.acc_vel=.3,e.value.steer.axis.ratio=20,e.value.steer.servo.canport_id=0,e.value.steer.servo.canposunit_id=0,e.value.steer.servo.canopenunit_id=0,e.value.steer.servo.can_id=11,e.value.editingIndex=-1,e.value.wheel.wheel_check=[0,2,2,2,0],e.value.wheel.install_dir=0,e.value.wheel.wheel_x=0,e.value.wheel.wheel_y=0,e.value.wheel.servo_type=0,e.value.wheel.axis.unit_dis=0,e.value.wheel.axis.encoder=2500,e.value.wheel.axis.max_rpm=0,e.value.wheel.axis.Target=0,e.value.wheel.axis.max_poserr_limit=0,e.value.wheel.axis.vel=1,e.value.wheel.axis.acc_vel=.3,e.value.wheel.axis.ratio=20,e.value.wheel.servo.canport_id=0,e.value.wheel.servo.canposunit_id=0,e.value.wheel.servo.canopenunit_id=0,e.value.wheel.servo.can_id=11,console.log(a),x.value=!0},T=n=>{e.value.name=a.value[n].name,e.value.editingIndex=n,e.value.install_x=a.value[n].install_x,e.value.install_y=a.value[n].install_y,e.value.use_wheel=a.value[n].use_wheel,e.value.drive_type=a.value[n].drive_type,e.value.wheel.wheel_check=a.value[n].wheel.wheel_check,e.value.wheel.install_dir=a.value[n].wheel.install_dir,e.value.wheel.wheel_x=a.value[n].wheel.wheel_x,e.value.wheel.wheel_y=a.value[n].wheel.wheel_y,e.value.wheel.axis.unit_dis=a.value[n].wheel.axis.unit_dis,e.value.wheel.axis.encoder=a.value[n].wheel.axis.encoder,e.value.wheel.axis.max_rpm=a.value[n].wheel.axis.max_rpm,e.value.wheel.axis.Target=a.value[n].wheel.axis.Target,e.value.wheel.axis.max_poserr_limit=a.value[n].wheel.axis.max_poserr_limit,e.value.wheel.axis.vel=a.value[n].wheel.axis.vel,e.value.wheel.axis.acc_vel=a.value[n].wheel.axis.acc_vel,e.value.wheel.axis.ratio=a.value[n].wheel.axis.ratio,e.value.wheel.servo.canport_id=a.value[n].wheel.servo.canport_id,e.value.wheel.servo.canposunit_id=a.value[n].wheel.servo.canposunit_id,e.value.wheel.servo.canopenunit_id=a.value[n].wheel.servo.canopenunit_id,e.value.wheel.servo.can_id=a.value[n].wheel.servo.can_id,e.value.steer.axis.unit_dis=a.value[n].steer.axis.unit_dis,e.value.steer.axis.encoder=a.value[n].steer.axis.encoder,e.value.steer.axis.max_rpm=a.value[n].steer.axis.max_rpm,e.value.steer.axis.Target=a.value[n].steer.axis.Target,e.value.steer.axis.max_poserr_limit=a.value[n].steer.axis.max_poserr_limit,e.value.steer.axis.vel=a.value[n].steer.axis.vel,e.value.steer.axis.acc_vel=a.value[n].steer.axis.acc_vel,e.value.steer.axis.ratio=a.value[n].steer.axis.ratio,e.value.steer.servo.canport_id=a.value[n].steer.servo.canport_id,e.value.steer.servo.canposunit_id=a.value[n].steer.servo.canposunit_id,e.value.steer.servo.canopenunit_id=a.value[n].steer.servo.canopenunit_id,e.value.steer.servo.can_id=a.value[n].steer.servo.can_id,e.value.wheel.servo_type=a.value[n].wheel.servo_type,e.value.use_steer=a.value[n].use_steer,e.value.steer.home_offset=a.value[n].steer.home_offset,e.value.steer.use_absolute_encoder=a.value[n].steer.use_absolute_encoder,e.value.steer.absolute_encoder_canport_id=a.value[n].steer.absolute_encoder_canport_id,e.value.steer.absolute_encoder_unit_id=a.value[n].steer.absolute_encoder_unit_id,e.value.steer.absolute_encoder_max=a.value[n].steer.absolute_encoder_max,e.value.steer.absolute_encoder_zero=a.value[n].steer.absolute_encoder_zero,e.value.steer.servo_type=a.value[n].steer.servo_type,e.value.steer.install_dir=a.value[n].steer.install_dir,e.value.steer.unclockwise_limit_switch=a.value[n].steer.unclockwise_limit_switch,console.log("333333,",a.value[n].steer.unclockwise_limit_switch),console.log("2222222,",e.value.steer.unclockwise_limit_switch),e.value.steer.clockwise_limit_switch=a.value[n].steer.clockwise_limit_switch,e.value.steer.zero_limit_switch=a.value[n].steer.zero_limit_switch,O.value=e.value.wheel.servo_type,z.value=e.value.steer.servo_type,console.log(a),x.value=!0},f=()=>{if(e.value.name){if(e.value.editingIndex!==-1)a.value[e.value.editingIndex].name=e.value.name,a.value[e.value.editingIndex].install_x=e.value.install_x,a.value[e.value.editingIndex].install_y=e.value.install_y,a.value[e.value.editingIndex].use_wheel=e.value.use_wheel,a.value[e.value.editingIndex].use_steer=e.value.use_steer,a.value[e.value.editingIndex].drive_type=e.value.drive_type,a.value[e.value.editingIndex].wheel.install_dir=e.value.wheel.install_dir,a.value[e.value.editingIndex].wheel.wheel_x=e.value.wheel.wheel_x,a.value[e.value.editingIndex].wheel.wheel_y=e.value.wheel.wheel_y,a.value[e.value.editingIndex].wheel.axis.unit_dis=e.value.wheel.axis.unit_dis,a.value[e.value.editingIndex].wheel.axis.encoder=e.value.wheel.axis.encoder,a.value[e.value.editingIndex].wheel.axis.max_rpm=e.value.wheel.axis.max_rpm,a.value[e.value.editingIndex].wheel.axis.Target=e.value.wheel.axis.Target,a.value[e.value.editingIndex].wheel.axis.max_poserr_limit=e.value.wheel.axis.max_poserr_limit,a.value[e.value.editingIndex].wheel.axis.vel=e.value.wheel.axis.vel,a.value[e.value.editingIndex].wheel.axis.acc_vel=e.value.wheel.axis.acc_vel,a.value[e.value.editingIndex].wheel.axis.ratio=e.value.wheel.axis.ratio,a.value[e.value.editingIndex].wheel.servo.canport_id=e.value.wheel.servo.canport_id,a.value[e.value.editingIndex].wheel.servo.canposunit_id=e.value.wheel.servo.canposunit_id,a.value[e.value.editingIndex].wheel.servo.canopenunit_id=e.value.wheel.servo.canopenunit_id,a.value[e.value.editingIndex].wheel.servo.can_id=e.value.wheel.servo.can_id,a.value[e.value.editingIndex].steer.axis.unit_dis=e.value.steer.axis.unit_dis,a.value[e.value.editingIndex].steer.axis.encoder=e.value.steer.axis.encoder,a.value[e.value.editingIndex].steer.axis.max_rpm=e.value.steer.axis.max_rpm,a.value[e.value.editingIndex].steer.axis.Target=e.value.steer.axis.Target,a.value[e.value.editingIndex].steer.axis.max_poserr_limit=e.value.steer.axis.max_poserr_limit,a.value[e.value.editingIndex].steer.axis.vel=e.value.steer.axis.vel,a.value[e.value.editingIndex].steer.axis.acc_vel=e.value.steer.axis.acc_vel,a.value[e.value.editingIndex].steer.axis.ratio=e.value.steer.axis.ratio,a.value[e.value.editingIndex].steer.servo.canport_id=e.value.steer.servo.canport_id,a.value[e.value.editingIndex].steer.servo.canposunit_id=e.value.steer.servo.canposunit_id,a.value[e.value.editingIndex].steer.servo.canopenunit_id=e.value.steer.servo.canopenunit_id,a.value[e.value.editingIndex].steer.servo.can_id=e.value.steer.servo.can_id,a.value[e.value.editingIndex].wheel.servo_type=e.value.wheel.servo_type,e.value.wheel.wheel_check.value!==void 0&&(a.value[e.value.editingIndex].wheel.wheel_check=e.value.wheel.wheel_check.value),e.value.steer.unclockwise_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.unclockwise_limit_switch=e.value.steer.unclockwise_limit_switch.value,console.log("111111111",a.value[e.value.editingIndex].steer.unclockwise_limit_switch)),e.value.steer.clockwise_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.clockwise_limit_switch=e.value.steer.clockwise_limit_switch.value),e.value.steer.zero_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.zero_limit_switch=e.value.steer.zero_limit_switch.value),a.value[e.value.editingIndex].steer.home_offset=e.value.steer.home_offset,a.value[e.value.editingIndex].steer.use_absolute_encoder=e.value.steer.use_absolute_encoder,a.value[e.value.editingIndex].steer.absolute_encoder_canport_id=e.value.steer.absolute_encoder_canport_id,a.value[e.value.editingIndex].steer.absolute_encoder_unit_id=e.value.steer.absolute_encoder_unit_id,a.value[e.value.editingIndex].steer.absolute_encoder_max=e.value.steer.absolute_encoder_max,a.value[e.value.editingIndex].steer.absolute_encoder_zero=e.value.steer.absolute_encoder_zero,a.value[e.value.editingIndex].steer.servo_type=e.value.steer.servo_type,a.value[e.value.editingIndex].steer.install_dir=e.value.steer.install_dir,M.value.Kinematic.drive=a,console.log(a);else{e.value.wheel.wheel_check.value!==void 0&&(e.value.wheel.wheel_check=e.value.wheel.wheel_check.value),e.value.steer.unclockwise_limit_switch.value!==void 0&&(e.value.steer.unclockwise_limit_switch=e.value.steer.unclockwise_limit_switch.value),e.value.steer.clockwise_limit_switch.value!==void 0&&(e.value.steer.clockwise_limit_switch=e.value.steer.clockwise_limit_switch.value),e.value.steer.zero_limit_switch.value!==void 0&&(e.value.steer.zero_limit_switch=e.value.steer.zero_limit_switch.value);const n={...e.value};a.value.push(JSON.parse(JSON.stringify(n))),M.value.Kinematic.drive=a,console.log(a)}x.value=!1}else Ue.error("请填写完整数据")},L=()=>{e.value.editingIndex!==-1?(a.value[e.value.editingIndex].name=e.value.name,a.value[e.value.editingIndex].install_x=e.value.install_x,a.value[e.value.editingIndex].install_y=e.value.install_y,a.value[e.value.editingIndex].use_wheel=e.value.use_wheel,a.value[e.value.editingIndex].use_steer=e.value.use_steer,a.value[e.value.editingIndex].drive_type=e.value.drive_type,a.value[e.value.editingIndex].wheel.install_dir=e.value.wheel.install_dir,a.value[e.value.editingIndex].wheel.wheel_x=e.value.wheel.wheel_x,a.value[e.value.editingIndex].wheel.wheel_y=e.value.wheel.wheel_y,a.value[e.value.editingIndex].wheel.axis.unit_dis=e.value.wheel.axis.unit_dis,a.value[e.value.editingIndex].wheel.axis.encoder=e.value.wheel.axis.encoder,a.value[e.value.editingIndex].wheel.axis.max_rpm=e.value.wheel.axis.max_rpm,a.value[e.value.editingIndex].wheel.axis.Target=e.value.wheel.axis.Target,a.value[e.value.editingIndex].wheel.axis.max_poserr_limit=e.value.wheel.axis.max_poserr_limit,a.value[e.value.editingIndex].wheel.axis.vel=e.value.wheel.axis.vel,a.value[e.value.editingIndex].wheel.axis.acc_vel=e.value.wheel.axis.acc_vel,a.value[e.value.editingIndex].wheel.axis.ratio=e.value.wheel.axis.ratio,a.value[e.value.editingIndex].wheel.servo.canport_id=e.value.wheel.servo.canport_id,a.value[e.value.editingIndex].wheel.servo.canposunit_id=e.value.wheel.servo.canposunit_id,a.value[e.value.editingIndex].wheel.servo.canopenunit_id=e.value.wheel.servo.canopenunit_id,a.value[e.value.editingIndex].wheel.servo.can_id=e.value.wheel.servo.can_id,a.value[e.value.editingIndex].steer.axis.unit_dis=e.value.steer.axis.unit_dis,a.value[e.value.editingIndex].steer.axis.encoder=e.value.steer.axis.encoder,a.value[e.value.editingIndex].steer.axis.max_rpm=e.value.steer.axis.max_rpm,a.value[e.value.editingIndex].steer.axis.Target=e.value.steer.axis.Target,a.value[e.value.editingIndex].steer.axis.max_poserr_limit=e.value.steer.axis.max_poserr_limit,a.value[e.value.editingIndex].steer.axis.vel=e.value.steer.axis.vel,a.value[e.value.editingIndex].steer.axis.acc_vel=e.value.steer.axis.acc_vel,a.value[e.value.editingIndex].steer.axis.ratio=e.value.steer.axis.ratio,a.value[e.value.editingIndex].steer.servo.canport_id=e.value.steer.servo.canport_id,a.value[e.value.editingIndex].steer.servo.canposunit_id=e.value.steer.servo.canposunit_id,a.value[e.value.editingIndex].steer.servo.canopenunit_id=e.value.steer.servo.canopenunit_id,a.value[e.value.editingIndex].steer.servo.can_id=e.value.steer.servo.can_id,a.value[e.value.editingIndex].wheel.servo_type=e.value.wheel.servo_type,e.value.wheel.wheel_check.value!==void 0&&(a.value[e.value.editingIndex].wheel.wheel_check=e.value.wheel.wheel_check.value),e.value.steer.unclockwise_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.unclockwise_limit_switch=e.value.steer.unclockwise_limit_switch.value,console.log("111111111",a.value[e.value.editingIndex].steer.unclockwise_limit_switch)),e.value.steer.clockwise_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.clockwise_limit_switch=e.value.steer.clockwise_limit_switch.value),e.value.steer.zero_limit_switch.value!==void 0&&(a.value[e.value.editingIndex].steer.zero_limit_switch=e.value.steer.zero_limit_switch.value),a.value[e.value.editingIndex].steer.home_offset=e.value.steer.home_offset,a.value[e.value.editingIndex].steer.use_absolute_encoder=e.value.steer.use_absolute_encoder,a.value[e.value.editingIndex].steer.absolute_encoder_canport_id=e.value.steer.absolute_encoder_canport_id,a.value[e.value.editingIndex].steer.absolute_encoder_unit_id=e.value.steer.absolute_encoder_unit_id,a.value[e.value.editingIndex].steer.absolute_encoder_max=e.value.steer.absolute_encoder_max,a.value[e.value.editingIndex].steer.absolute_encoder_zero=e.value.steer.absolute_encoder_zero,a.value[e.value.editingIndex].steer.servo_type=e.value.steer.servo_type,a.value[e.value.editingIndex].steer.install_dir=e.value.steer.install_dir):(e.value.wheel.wheel_check.value!==void 0&&(e.value.wheel.wheel_check=e.value.wheel.wheel_check.value),e.value.steer.unclockwise_limit_switch.value!==void 0&&(e.value.steer.unclockwise_limit_switch=e.value.steer.unclockwise_limit_switch.value),e.value.steer.clockwise_limit_switch.value!==void 0&&(e.value.steer.clockwise_limit_switch=e.value.steer.clockwise_limit_switch.value),e.value.steer.zero_limit_switch.value!==void 0&&(e.value.steer.zero_limit_switch=e.value.steer.zero_limit_switch.value)),M.value.Kinematic.drive=a},q=n=>{a.value.splice(n,1)};return(n,k)=>{const A=he,P=ge,oe=Ve,E=Q,b=ye,se=Ie,N=Z,g=ee,K=fe,X=we;return C(),$("div",null,[l(oe,{data:V(a),style:{width:"100%"}},{default:t(()=>[l(P,{prop:"name",label:"名称"},{default:t(i=>[l(A,{type:"text",onClick:Y=>T(i.$index)},{default:t(()=>[r(G(V(a)[i.$index].name),1)]),_:2},1032,["onClick"])]),_:1}),l(P,{label:"操作"},{default:t(i=>[l(A,{type:"danger",onClick:Y=>q(i.$index)},{default:t(()=>[r("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data"]),Ul,l(A,{type:"primary",onClick:v},{default:t(()=>[r("添加驱动单元")]),_:1}),l(X,{title:jl,modelValue:x.value,"onUpdate:modelValue":k[15]||(k[15]=i=>x.value=i),visible:x.value,width:"900px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[l(se,{ref:"form",model:e.value,"label-width":"80px"},{default:t(()=>[l(b,{label:"名称"},{default:t(()=>[l(E,{modelValue:e.value.name,"onUpdate:modelValue":k[0]||(k[0]=i=>e.value.name=i),placeholder:"请输入名称"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),l(se,{ref:"form",model:e.value,"label-width":"200px"},{default:t(()=>[Sl,l(b,{label:"车体坐标系坐标X(ms):"},{default:t(()=>[l(E,{modelValue:e.value.install_x,"onUpdate:modelValue":k[1]||(k[1]=i=>e.value.install_x=i),modelModifiers:{number:!0},type:"number",onChange:n.AGVpos},null,8,["modelValue","onChange"])]),_:1}),l(b,{label:"车体坐标系坐标Y(ms):"},{default:t(()=>[l(E,{modelValue:e.value.install_y,"onUpdate:modelValue":k[2]||(k[2]=i=>e.value.install_y=i),modelModifiers:{number:!0},type:"number",onChange:n.AGVpos},null,8,["modelValue","onChange"])]),_:1})]),_:1},8,["model"]),Nl,Ml,l(g,{modelValue:e.value.drive_type,"onUpdate:modelValue":k[3]||(k[3]=i=>e.value.drive_type=i),placeholder:"请选择"},{default:t(()=>[l(N,{label:"普通驱动类型",value:0}),l(N,{label:"差速驱动类型",value:1})]),_:1},8,["modelValue"]),Al,l(K,{modelValue:e.value.use_wheel,"onUpdate:modelValue":k[4]||(k[4]=i=>e.value.use_wheel=i),onChange:m},{default:t(()=>[r("安装有驱动轮")]),_:1},8,["modelValue"]),r("      驱动伺服类型 "),l(g,{modelValue:e.value.wheel.servo_type,"onUpdate:modelValue":k[5]||(k[5]=i=>e.value.wheel.servo_type=i),placeholder:"请选择",disabled:!e.value.use_wheel,onChange:m},{default:t(()=>[l(N,{label:"普通MCU",value:0}),l(N,{label:"差速MCU",value:1}),l(N,{label:"Elmo伺服",value:2}),l(N,{label:"步科伺服",value:3}),l(N,{label:"Motec伺服",value:4}),l(N,{label:"AMC伺服",value:5})]),_:1},8,["modelValue","disabled"]),Tl,l(K,{modelValue:e.value.use_steer,"onUpdate:modelValue":k[6]||(k[6]=i=>e.value.use_steer=i),onChange:h},{default:t(()=>[r("安装有转舵机构")]),_:1},8,["modelValue"]),r("      驱动伺服类型 "),l(g,{modelValue:e.value.steer.servo_type,"onUpdate:modelValue":k[7]||(k[7]=i=>e.value.steer.servo_type=i),placeholder:"请选择",disabled:!e.value.use_steer,onChange:h},{default:t(()=>[l(N,{label:"普通MCU",value:0}),l(N,{label:"差速MCU",value:1}),l(N,{label:"Elmo伺服",value:2}),l(N,{label:"步科伺服",value:3}),l(N,{label:"Motec伺服",value:4}),l(N,{label:"AMC伺服",value:5})]),_:1},8,["modelValue","disabled"]),El,Ol,o("div",zl,[e.value.use_wheel?(C(),$("div",Rl,[l(ml,{wheel:e.value.wheel,onChange:L},null,8,["wheel"])])):B("",!0),r("      "),e.value.use_steer?(C(),$("div",Pl,[l($l,{steer:e.value.steer,onChange:L},null,8,["steer"]),Kl,l(A,{onClick:U,type:"primary"},{default:t(()=>[r("限位开关1")]),_:1}),l(X,{title:"限位开关1",modelValue:y.value,"onUpdate:modelValue":k[9]||(k[9]=i=>y.value=i),visible:y.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[o("div",null,[l(me,{wheel:e.value.steer.unclockwise_limit_switch},null,8,["wheel"])]),o("div",Bl,[l(A,{onClick:k[8]||(k[8]=i=>y.value=!1)},{default:t(()=>[r("取 消")]),_:1}),l(A,{onClick:s},{default:t(()=>[r("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),r("  "),l(A,{onClick:I,type:"primary"},{default:t(()=>[r("限位开关2")]),_:1}),l(X,{title:"限位开关2",modelValue:d.value,"onUpdate:modelValue":k[11]||(k[11]=i=>d.value=i),visible:d.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[o("div",null,[l(me,{wheel:e.value.steer.clockwise_limit_switch},null,8,["wheel"])]),o("div",Fl,[l(A,{onClick:k[10]||(k[10]=i=>d.value=!1)},{default:t(()=>[r("取 消")]),_:1}),l(A,{onClick:S},{default:t(()=>[r("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),r("  "),l(A,{onClick:_,type:"primary"},{default:t(()=>[r("零位开关")]),_:1}),l(X,{title:"零位开关",modelValue:c.value,"onUpdate:modelValue":k[13]||(k[13]=i=>c.value=i),visible:c.value,width:"600px","close-on-click-modal":!1,class:"edit-data-dialog"},{default:t(()=>[o("div",null,[l(me,{wheel:e.value.steer.zero_limit_switch},null,8,["wheel"])]),o("div",Ll,[l(A,{onClick:k[12]||(k[12]=i=>c.value=!1)},{default:t(()=>[r("取 消")]),_:1}),l(A,{onClick:w},{default:t(()=>[r("确定")]),_:1})])]),_:1},8,["modelValue","visible"]),r(" "),Dl])):B("",!0),Jl,ql]),o("div",Yl,[l(A,{onClick:k[14]||(k[14]=i=>x.value=!1)},{default:t(()=>[r("取 消")]),_:1}),l(A,{onClick:f},{default:t(()=>[r("确定")]),_:1})])]),_:1},8,["modelValue","visible"])])}}},Xl=ae(Gl,[["__scopeId","data-v-49c27f92"]]);const $e=u=>(te("data-v-f4ce40e6"),u=u(),ue(),u),Hl=$e(()=>o("br",null,null,-1)),Ql=$e(()=>o("br",null,null,-1)),Wl={__name:"Kinematic",setup(u){const y=p(!0),d=p(!1),c=p(!1),U=p(!1),s=p(!1),I=()=>{W.value?(M.value.Kinematic.delay.need_delay_time=!0,M.value.Kinematic.delay.servoenable_delay_time=parseInt(re.value),M.value.Kinematic.delay.servospeed_delay_time=parseInt(_e.value)):(M.value.Kinematic.delay.need_delay_time=!1,M.value.Kinematic.delay.servoenable_delay_time=200,M.value.Kinematic.delay.servospeed_delay_time=200)};return ce(ke,()=>{switch(ke.value){case"1":y.value=!0,d.value=!1,c.value=!1,U.value=!1,s.value=!1,M.value.Kinematic.type=1;return;case"2":y.value=!1,d.value=!0,c.value=!1,U.value=!1,s.value=!1,M.value.Kinematic.type=2;return;case"3":y.value=!1,d.value=!1,c.value=!0,U.value=!1,s.value=!1,M.value.Kinematic.type=3;return;case"4":y.value=!1,d.value=!1,c.value=!1,U.value=!0,s.value=!1,M.value.Kinematic.type=4;return;case"5":y.value=!1,d.value=!1,c.value=!1,U.value=!1,s.value=!0,M.value.Kinematic.type=5;return}}),(_,w)=>{const h=fe,m=Q;return C(),$("div",null,[o("div",null,[l(h,{modelValue:V(W),"onUpdate:modelValue":w[0]||(w[0]=e=>be(W)?W.value=e:null),onChange:I},{default:t(()=>[r("轮或舵因伺服响应慢需要设置延时时间")]),_:1},8,["modelValue"]),Hl,r(" 使能前延时时间(ms):"),l(m,{modelValue:V(re),"onUpdate:modelValue":w[1]||(w[1]=e=>be(re)?re.value=e:null),disabled:!V(W),type:"number",style:{width:"10%"},onChange:I},null,8,["modelValue","disabled"]),r(" 给定前延时时间(ms):"),l(m,{modelValue:V(_e),"onUpdate:modelValue":w[2]||(w[2]=e=>be(_e)?_e.value=e:null),disabled:!V(W),type:"number",style:{width:"10%"},onChange:I},null,8,["modelValue","disabled"])]),Ql,o("div",null,[l(Xl)])])}}},Zl=ae(Wl,[["__scopeId","data-v-f4ce40e6"]]);const R=u=>(te("data-v-19915f0f"),u=u(),ue(),u),ea={class:"page-container main-view"},la={class:"table-box content-container page-content-box"},aa={class:"left"},ta=R(()=>o("hr",{class:"hengxian"},null,-1)),ua={class:"left"},oa=R(()=>o("h2",null,"⚠️ 驱动模型：",-1)),sa=R(()=>o("hr",{class:"hengxian2"},null,-1)),na=R(()=>o("h3",null,"⚠️ 运行参数",-1)),ia=R(()=>o("br",null,null,-1)),da=R(()=>o("br",null,null,-1)),va=R(()=>o("span",{class:"title"},"🔖 自动参数:",-1)),ra={key:0},_a={key:1},ma=R(()=>o("br",null,null,-1)),ca={key:0},ha=R(()=>o("br",null,null,-1)),wa=R(()=>o("span",{class:"title"},"🔖 手动参数:",-1)),fa={key:0},pa={key:1},ba=R(()=>o("br",null,null,-1)),xa={key:1},ga=R(()=>o("hr",{class:"hengxian3"},null,-1)),Va=R(()=>o("h3",null,"⚠️ 车体模型",-1)),ya={key:0},Ia={key:1},ka=R(()=>o("br",null,null,-1)),Ca={key:2},$a=R(()=>o("hr",{class:"hengxian2"},null,-1)),Ua=R(()=>o("hr",{class:"kongge"},null,-1)),Sa={__name:"wheelmode",setup(u){const y=p(!1),d=()=>{y.value=!0},c=p(!1),U=p(!1),s=p(!1),I=p(!1),S=Se(()=>JSON.stringify(M.value,null,2)),_=()=>{I.value=!I.value},w=()=>{c.value=!0},h=()=>{U.value=!U.value},m=()=>{s.value=!s.value},e=()=>{router.push("/main/param/index")},x=()=>{router.push("/main/third")};return(v,T)=>{const f=he,L=we;return C(),$("div",null,[o("div",ea,[o("div",la,[o("div",aa,[l(f,{type:"info",onClick:d},{default:t(()=>[r(" 查看设备 ")]),_:1}),l(L,{modelValue:y.value,"onUpdate:modelValue":T[0]||(T[0]=q=>y.value=q),title:"设备总览",visible:y.value,width:"900px",onClose:T[1]||(T[1]=q=>y.value=!1)},{default:t(()=>[l(Ae)]),_:1},8,["modelValue","visible"]),r("   "),l(f,{type:"info",onClick:w},{default:t(()=>[r(" 查看 ")]),_:1}),l(L,{modelValue:c.value,"onUpdate:modelValue":T[2]||(T[2]=q=>c.value=q),title:"数据",visible:c.value,onClose:T[3]||(T[3]=q=>c.value=!1)},{default:t(()=>[o("pre",null,G(S.value),1)]),_:1},8,["modelValue","visible"])]),ta,o("div",ua,[oa,r(" 配置车体驱动模型 "),sa,na,r(" 配置手动运行参数和自动运行参数: "),ia,da,va,l(f,{onClick:m,type:"text",plain:"",disabled:!1},{default:t(()=>[s.value?(C(),$("span",_a,"展开")):(C(),$("span",ra,"展开")),o("span",{class:xe({"rotate-arrow":s.value})},"➡️",2)]),_:1}),ma,s.value?(C(),$("div",ca,[l(Oe)])):B("",!0),ha,wa,l(f,{onClick:h,type:"text",plain:"",disabled:!1},{default:t(()=>[U.value?(C(),$("span",pa,"展开")):(C(),$("span",fa,"展开")),o("span",{class:xe({"rotate-arrow":U.value})},"➡️",2)]),_:1}),ba,U.value?(C(),$("div",xa,[l(Ee)])):B("",!0),ga,Va,r(" 配置车体类型和轮舵机械参数: "),l(f,{onClick:_,type:"text",plain:"",disabled:!1},{default:t(()=>[I.value?(C(),$("span",Ia,"展开")):(C(),$("span",ya,"展开")),o("span",{class:xe({"rotate-arrow":I.value})},"➡️",2)]),_:1}),ka,I.value?(C(),$("div",Ca,[l(Zl)])):B("",!0)]),$a,l(f,{type:"primary",onClick:x},{default:t(()=>[r("下一步")]),_:1}),Ua,l(f,{type:"primary",onClick:e},{default:t(()=>[r("上一步")]),_:1})])])])}}},Qa=ae(Sa,[["__scopeId","data-v-19915f0f"]]);export{Qa as default};
