import{S as m}from"./index-aa17eed7.js";import{_ as C,d as w,aV as B,bg as r,aK as b,bB as y,aG as R,o as f,c as g,a as l,aZ as S,aC as k,b as N,m as E,bc as V,g as P}from"./index-df7e4a51.js";const $=w({name:"Collapse",components:{SvgIcon:m},props:{show:{type:Boolean,default:!0},showBt:{type:Boolean,default:!1},anchorPointSignName:{type:String,default:".anchor-point-target"}},emits:["onClick"],setup(o,{emit:s}){const t=B(null),a=r(o,"show"),u=r(o,"showBt"),d=r(o,"anchorPointSignName");b(()=>{const e=t.value.firstChild;new ResizeObserver(c=>{h()}).observe(e)});let n=null;y(a,e=>{h()},{immediate:!1});function i(){if(!t.value)return!1;const e=t.value.getBoundingClientRect();return!(e.top==0&&e.bottom==0&&e.left==0&&e.right==0)}function h(){clearTimeout(n),n=setTimeout(()=>{if(i())if(a.value){const e=t.value.firstChild.getBoundingClientRect().height;t.value.style.height=e+"px"}else{const e=t.value.querySelector(d.value);if(!e)t.value.style.height=0+"px";else{const p=t.value.getBoundingClientRect(),c=e.getBoundingClientRect(),_=c.y-p.y+c.height;t.value.style.height=_+"px"}}},26)}R(()=>{clearTimeout(n)});function v(){s("onClick")}return{CollapseElRef:t,show:a,showBt:u,handleClick:v}}}),x={class:"collapse-el"},z={ref:"CollapseElRef",class:"collapse-el-container"},T={class:"collapse-el-container-container"},I={key:0,class:"collapse-el-show-container"};function O(o,s,t,a,u,d){const n=m;return f(),g("div",x,[l("div",z,[l("div",T,[S(o.$slots,"default",{},void 0,!0)])],512),o.showBt?(f(),g("div",I,[l("div",{onClick:s[0]||(s[0]=(...i)=>o.handleClick&&o.handleClick(...i)),class:"container"},[l("div",{class:k({bt:!0,show:o.show})},[N(n,{style:"width:15px;height:15px;",name:"svg:sort-down.svg"})],2),E(" "+V(o.show?"收缩":"展开"),1)])])):P("",!0)])}const q=C($,[["render",O],["__scopeId","data-v-dc54acbb"]]);export{q as _};
